<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title><ui:insert name="title">IOT Platform</ui:insert></title>
        <h:outputStylesheet library="css" name="bootstrap.min.css"/>
        <h:outputStylesheet library="css" name="default.css"/>
        <h:outputStylesheet library="css" name="cssLayout.css"/>
        <h:outputStylesheet library="primefaces/charts" name="charts.css"/>
        <h:outputScript library="primefaces/charts" name="charts.js"/>
        <!--        <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>-->
        <script type="text/javascript">
            function handleDrop(event, ui) {
                if (ui != null) {
                    var dropped = ui.draggable;

                    var widgetKey = $(ui.draggable).find("input:hidden").val();
                    var dialogId = widgetKey + "Dialog";

                    PF(dialogId).show();
                }
            }
        </script> 
    </h:head>

    <h:body>

        <ui:insert name="menu">
            <ui:include src="menu.xhtml"/>
        </ui:insert>

        <ui:insert name="status">
            <p:growl id="growl" showDetail="true" sticky="true" /> 
            <p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />
        </ui:insert>

        <p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
            <p:graphicImage library="images" name="ajax_loading_bar.gif" />
        </p:dialog>        

        <div id="top">
            <ui:insert name="top"></ui:insert>
        </div>
        <div>
            <ui:insert name="content"></ui:insert>
        </div>
        <div id="bottom">
            <ui:insert name="bottom"></ui:insert>
        </div>

    </h:body>

</html>
